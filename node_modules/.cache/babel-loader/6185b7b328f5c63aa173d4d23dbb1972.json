{"ast":null,"code":"import _regeneratorRuntime from\"/home/samuelximenes/Documentos/Projects/smart_infra/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/samuelximenes/Documentos/Projects/smart_infra/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/samuelximenes/Documentos/Projects/smart_infra/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import{useAuthentication}from'../../hooks/userAuthentication';// mui\nimport InputAdornment from'@mui/material/InputAdornment';import TextField from'@mui/material/TextField';import PersonIcon from'@mui/icons-material/Person';import LockIcon from'@mui/icons-material/Lock';import Button from'@mui/material/Button';import Stack from'@mui/material/Stack';import Box from'@mui/material/Box';import styles from'./Login.module.css';import loginImg from'../../assets/img/logo_smart.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var drawerWidth=240;var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useAuthentication=useAuthentication(),login=_useAuthentication.login,authError=_useAuthentication.error,loading=_useAuthentication.loading;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setError(\"\");user={email:email,password:password};_context.next=5;return login(user);case 5:res=_context.sent;console.log(res);case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){if(authError){setError(authError);}},[authError]);return/*#__PURE__*/_jsx(\"div\",{className:styles.login,children:/*#__PURE__*/_jsxs(Stack,{component:\"form\",sx:{width:'50ch',mt:'5ch'},spacing:3,noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Box,{component:\"img\",alt:\"Logo Company\",src:loginImg}),/*#__PURE__*/_jsx(TextField,{id:\"input-with-icon-textfield\",type:\"email\",name:\"email\",required:true,placeholder:\"Usuario\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},variant:\"outlined\",InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(PersonIcon,{sx:{color:'white'}})})},sx:{input:{color:'white'}}}),/*#__PURE__*/_jsx(TextField,{id:\"input-with-icon-textfield\",type:\"password\",name:\"password\",required:true,placeholder:\"Senha\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},variant:\"outlined\",InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(LockIcon,{sx:{color:'white'}})})},sx:{input:{color:'white'}}}),!loading&&/*#__PURE__*/_jsx(Button,{sx:{height:'6ch',backgroundColor:'white',color:'#2148C0',\"&:hover\":{backgroundColor:'#393E46',color:'white'}},variant:\"contained\",type:\"submit\",children:\"Login\"}),loading&&/*#__PURE__*/_jsx(Button,{sx:{height:'6ch',\"&:disabled\":{backgroundColor:'#393E46',color:'white'}},variant:\"contained\",disabled:true,children:\"Aguarde...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error})]})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useAuthentication","InputAdornment","TextField","PersonIcon","LockIcon","Button","Stack","Box","styles","loginImg","drawerWidth","Login","email","setEmail","password","setPassword","error","setError","login","authError","loading","handleSubmit","e","preventDefault","user","res","console","log","width","mt","target","value","startAdornment","color","input","height","backgroundColor"],"sources":["/home/samuelximenes/Documentos/Projects/smart_infra/src/pages/Login/Login.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react';\nimport { useAuthentication } from '../../hooks/userAuthentication';\n\n// mui\nimport InputAdornment from '@mui/material/InputAdornment';\nimport TextField from '@mui/material/TextField';\nimport PersonIcon from '@mui/icons-material/Person';\nimport LockIcon from '@mui/icons-material/Lock';\nimport Button from '@mui/material/Button';\nimport Stack from '@mui/material/Stack';\n\nimport Box from '@mui/material/Box';\n\nimport styles from './Login.module.css';\nimport loginImg from '../../assets/img/logo_smart.svg'\n\nconst drawerWidth = 240;\n\nconst Login = () => {\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [error, setError] = useState(\"\")\n\n    const { login, error: authError, loading } = useAuthentication();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        setError(\"\");\n\n        const user = {\n            email,\n            password\n        }\n\n        const res = await login(user);\n\n        console.log(res);\n    }\n\n    useEffect(() => {\n        if (authError) {\n            setError(authError);\n        }\n    }, [authError])\n\n\n    return (\n        <div className={styles.login}>\n            <Stack\n                component=\"form\"\n                sx={{\n                    width: '50ch',\n                    mt: '5ch',\n                }}\n                spacing={3}\n                noValidate\n                autoComplete=\"off\"\n                onSubmit={handleSubmit}\n            >\n                <Box\n                    component=\"img\"\n                    alt=\"Logo Company\"\n                    src={loginImg}\n                />\n                <TextField\n                    id=\"input-with-icon-textfield\"\n                    type=\"email\"\n                    name=\"email\"\n                    required\n                    placeholder='Usuario'\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    variant=\"outlined\"\n                    InputProps={{\n                        startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <PersonIcon sx={{ color: 'white' }} />\n                            </InputAdornment>\n                        ),\n                    }}\n                    sx={{\n                        input: {\n                            color: 'white',\n                        }\n                    }}\n\n                />\n                <TextField\n                    id=\"input-with-icon-textfield\"\n                    type=\"password\"\n                    name=\"password\"\n                    required\n                    placeholder='Senha'\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    variant=\"outlined\"\n                    InputProps={{\n                        startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <LockIcon sx={{ color: 'white' }} />\n                            </InputAdornment>\n                        ),\n                    }}\n                    sx={{\n                        input: {\n                            color: 'white'\n                        }\n                    }}\n                />\n                {!loading && <Button sx={{ height: '6ch', backgroundColor: 'white', color: '#2148C0', \"&:hover\": { backgroundColor: '#393E46', color: 'white' } }} variant=\"contained\" type='submit'>Login</Button>}\n                {loading && <Button sx={{ height: '6ch', \"&:disabled\": { backgroundColor: '#393E46', color: 'white' } }} variant=\"contained\" disabled>Aguarde...</Button>}\n                {error && <p className='error'>{error}</p>}\n            </Stack>\n        </div>\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}