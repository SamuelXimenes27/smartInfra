{"ast":null,"code":"import _slicedToArray from\"/home/samuelximenes/Documentos/Projects/smart_infra/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import{BrowserRouter,Routes,Route,Navigate}from\"react-router-dom\";import{onAuthStateChanged}from\"firebase/auth\";// hooks\nimport{useState,useEffect}from\"react\";import{useAuthentication}from\"./hooks/userAuthentication\";// context\nimport{AuthProvider}from\"./context/authContext\";// pages\nimport Home from\"./pages/Home/Home\";import Login from\"./pages/Login/Login\";import Register from\"./pages/Register/Register\";import Navbar from\"./components/Navbar\";import Dashboard from\"./pages/Dashboard/Dashboard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useAuthentication=useAuthentication(),auth=_useAuthentication.auth;var loadindUser=user===undefined;useEffect(function(){onAuthStateChanged(auth,function(user){setUser(user);});},[auth]);if(loadindUser){return/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(AuthProvider,{value:{user:user},children:/*#__PURE__*/_jsxs(BrowserRouter,{basename:process.env.PUBLIC_URL,children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:user?/*#__PURE__*/_jsx(Home,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!user?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:!user?/*#__PURE__*/_jsx(Register,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:user?/*#__PURE__*/_jsx(Dashboard,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})})]})})});}export default App;","map":{"version":3,"names":["BrowserRouter","Routes","Route","Navigate","onAuthStateChanged","useState","useEffect","useAuthentication","AuthProvider","Home","Login","Register","Navbar","Dashboard","App","undefined","user","setUser","auth","loadindUser","process","env","PUBLIC_URL"],"sources":["/home/samuelximenes/Documentos/Projects/smart_infra/src/App.js"],"sourcesContent":["import './App.css';\n\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport { onAuthStateChanged } from \"firebase/auth\";\n\n// hooks\nimport { useState, useEffect } from \"react\";\nimport { useAuthentication } from \"./hooks/userAuthentication\";\n\n// context\nimport { AuthProvider } from \"./context/authContext\";\n\n// pages\nimport Home from \"./pages/Home/Home\";\nimport Login from \"./pages/Login/Login\";\nimport Register from \"./pages/Register/Register\";\nimport Navbar from \"./components/Navbar\";\nimport Dashboard from \"./pages/Dashboard/Dashboard\"\n\nfunction App() {\n\n  const [user, setUser] = useState(undefined);\n  const { auth } = useAuthentication();\n\n  const loadindUser = user === undefined;\n\n  useEffect(() => {\n\n    onAuthStateChanged(auth, (user) => {\n      setUser(user)\n    })\n\n  }, [auth]);\n\n  if (loadindUser) {\n    return <p>Carregando...</p>\n  }\n\n  return (\n    <div className=\"App\">\n      <AuthProvider value={{ user }}>\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\n          <Navbar />\n          <div className='container'>\n            <Routes>\n              <Route path=\"/\" element={user ? <Home /> : <Navigate to=\"/login\" />}></Route>\n              <Route path=\"/login\" element={!user ? <Login /> : <Navigate to=\"/\" />}></Route>\n              <Route path=\"/register\" element={!user ? <Register /> : <Navigate to=\"/\" />}></Route>\n              <Route path=\"/dashboard\" element={user ? <Dashboard /> : <Navigate to=\"/login\" />}></Route>\n            </Routes>\n          </div>\n        </BrowserRouter>\n      </AuthProvider>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"yIAAA,MAAO,WAAW,CAElB,OAASA,aAAa,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACzE,OAASC,kBAAkB,KAAQ,eAAe,CAElD;AACA,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,iBAAiB,KAAQ,4BAA4B,CAE9D;AACA,OAASC,YAAY,KAAQ,uBAAuB,CAEpD;AACA,MAAOC,KAAI,KAAM,mBAAmB,CACpC,MAAOC,MAAK,KAAM,qBAAqB,CACvC,MAAOC,SAAQ,KAAM,2BAA2B,CAChD,MAAOC,OAAM,KAAM,qBAAqB,CACxC,MAAOC,UAAS,KAAM,6BAA6B,yFAEnD,QAASC,IAAG,EAAG,CAEb,cAAwBT,QAAQ,CAACU,SAAS,CAAC,wCAApCC,IAAI,eAAEC,OAAO,eACpB,uBAAiBV,iBAAiB,EAAE,CAA5BW,IAAI,oBAAJA,IAAI,CAEZ,GAAMC,YAAW,CAAGH,IAAI,GAAKD,SAAS,CAEtCT,SAAS,CAAC,UAAM,CAEdF,kBAAkB,CAACc,IAAI,CAAE,SAACF,IAAI,CAAK,CACjCC,OAAO,CAACD,IAAI,CAAC,CACf,CAAC,CAAC,CAEJ,CAAC,CAAE,CAACE,IAAI,CAAC,CAAC,CAEV,GAAIC,WAAW,CAAE,CACf,mBAAO,oCAAoB,CAC7B,CAEA,mBACE,YAAK,SAAS,CAAC,KAAK,uBAClB,KAAC,YAAY,EAAC,KAAK,CAAE,CAAEH,IAAI,CAAJA,IAAK,CAAE,uBAC5B,MAAC,aAAa,EAAC,QAAQ,CAAEI,OAAO,CAACC,GAAG,CAACC,UAAW,wBAC9C,KAAC,MAAM,IAAG,cACV,YAAK,SAAS,CAAC,WAAW,uBACxB,MAAC,MAAM,yBACL,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAEN,IAAI,cAAG,KAAC,IAAI,IAAG,cAAG,KAAC,QAAQ,EAAC,EAAE,CAAC,QAAQ,EAAI,EAAS,cAC7E,KAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAE,CAACA,IAAI,cAAG,KAAC,KAAK,IAAG,cAAG,KAAC,QAAQ,EAAC,EAAE,CAAC,GAAG,EAAI,EAAS,cAC/E,KAAC,KAAK,EAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAE,CAACA,IAAI,cAAG,KAAC,QAAQ,IAAG,cAAG,KAAC,QAAQ,EAAC,EAAE,CAAC,GAAG,EAAI,EAAS,cACrF,KAAC,KAAK,EAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAEA,IAAI,cAAG,KAAC,SAAS,IAAG,cAAG,KAAC,QAAQ,EAAC,EAAE,CAAC,QAAQ,EAAI,EAAS,GACpF,EACL,GACQ,EACH,EACX,CAEV,CAEA,cAAeF,IAAG"},"metadata":{},"sourceType":"module"}